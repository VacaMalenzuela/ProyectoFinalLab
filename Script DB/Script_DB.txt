CREATE SCHEMA clinicamedica;
use clinicamedica;


 CREATE TABLE provincias (
   Id int(11) NOT NULL AUTO_INCREMENT,
   Provincia varchar(50) NOT NULL,
   PRIMARY KEY (Id)
 ) ;
CREATE TABLE especialidades (
   Id int NOT NULL AUTO_INCREMENT,
   Especialidad varchar(50) DEFAULT NULL,
   PRIMARY KEY (Id)
 );
 CREATE TABLE horarios (
   Id int NOT NULL AUTO_INCREMENT,
   dia varchar(50) DEFAULT NULL,
   horarioInicio int NOT NULL,
   horarioFin int NOT NULL,
   PRIMARY KEY (Id)
 ); 
 
 CREATE TABLE localidades (
   Id int NOT NULL AUTO_INCREMENT,
   Localidad varchar(50) DEFAULT NULL,
   PRIMARY KEY (Id)
 ); 
 
  CREATE TABLE nacionalidades (
   Id int NOT NULL AUTO_INCREMENT,
   Nacionalidad varchar(50) DEFAULT NULL,
   PRIMARY KEY (Id)
 );
 
 
  CREATE TABLE tipousuarios (
   Id int NOT NULL AUTO_INCREMENT,
   tipo varchar(50) DEFAULT NULL,
   PRIMARY KEY (Id)
 );
 
 
 CREATE TABLE usuarios (
   Id int NOT NULL AUTO_INCREMENT,
   Nombre varchar(50) DEFAULT NULL,
   Clave varchar(50) DEFAULT NULL,
   idTipoUsuario int NOT NULL,
   PRIMARY KEY (Id),
   KEY idTipoUsuario (idTipoUsuario),
   FOREIGN KEY (idTipoUsuario) REFERENCES tipousuarios (Id)
 );
 
 
 CREATE TABLE medicos (
   Dni varchar(50) NOT NULL unique,
   Nombre varchar(50) NOT NULL,
   Apellido varchar(50) NOT NULL,
   Sexo varchar(50) NOT NULL,
   idNacionalidad int NOT NULL,
   FechaNacimiento varchar(50) NOT NULL,
   Direccion varchar(50) NOT NULL,
   idLocalidad int NOT NULL,
   idProvincia int NOT NULL,
   CorreoElectronico varchar(50) NOT NULL,
   Telefono varchar(50) NOT NULL,
   idEspecialidad int NOT NULL,
   idUsuario int NOT NULL,
   Estado tinyint (1) not null,
   PRIMARY KEY (Dni),
FOREIGN KEY (idNacionalidad) REFERENCES nacionalidades (Id),
FOREIGN KEY (idProvincia) REFERENCES provincias (Id),
FOREIGN KEY (idLocalidad) REFERENCES localidades (ID),
FOREIGN KEY (idUsuario) REFERENCES usuarios (Id),
FOREIGN KEY (idEspecialidad) REFERENCES especialidades (Id)
);
 
 
 
 CREATE TABLE pacientes (
   Dni varchar(50) NOT NULL unique,
   Nombre varchar(50) NOT NULL,
   Apellido varchar(50) NOT NULL,
   Sexo varchar(50) NOT NULL,
   idNacionalidad int(11) NOT NULL,
   FechaNacimiento varchar(50) NOT NULL,
   Direccion varchar(50) NOT NULL,
   idLocalidad int NOT NULL,
   idProvincia int NOT NULL,
   CorreoElectronico varchar(50) NOT NULL,
   Telefono varchar(50) NOT NULL,
   Estado tinyint(1) NOT NULL,
   PRIMARY KEY (Dni),
   FOREIGN KEY (idNacionalidad) REFERENCES nacionalidades (Id),
   FOREIGN KEY (idProvincia) REFERENCES provincias (Id),
   FOREIGN KEY (idLocalidad) REFERENCES localidades (Id)
 ); 


 CREATE TABLE medicoXhorario (
    Id int NOT NULL AUTO_INCREMENT,
    dniMedico varchar(50) NOT NULL,
    idHorario int NOT NULL,
    PRIMARY KEY (Id),
    FOREIGN KEY (dniMedico) REFERENCES medicos (Dni),
    FOREIGN KEY (idHorario) REFERENCES horarios (Id)
);

CREATE TABLE EstadosTurnos (
   Id int NOT NULL AUTO_INCREMENT,
   Estado varchar(50) NOT NULL,
   PRIMARY KEY (Id)
 );

CREATE TABLE turnos (
   Id int NOT NULL AUTO_INCREMENT,
   dniMedico varchar(50) NOT NULL,
   Fecha varchar(50) NOT NULL,
   Hora int NOT NULL,
   dniPaciente varchar(50) NOT NULL,
   IdEstado int NOT NULL,
   PRIMARY KEY (Id),
FOREIGN KEY (dniMedico) REFERENCES medicos (Dni),
FOREIGN KEY (dniPaciente) REFERENCES pacientes (Dni),
FOREIGN KEY (IdEstado) REFERENCES EstadosTurnos (Id)
 );

 
 Insert into EstadosTurnos (Estado) values ('Ocupado'); 
 Insert into EstadosTurnos (Estado) values ('Libre'); 
 Insert into EstadosTurnos (Estado) values ('Ausente'); 
 Insert into EstadosTurnos (Estado) values ('Presente'); 
 
 
  Insert into Nacionalidades (nacionalidad) values ('Argentina'); 
 Insert into Nacionalidades (nacionalidad) values ('España');
 Insert into Nacionalidades (nacionalidad) values ('Italia');
 
 
 Insert into provincias (provincia) values ('Buenos Aires');
  Insert into provincias (provincia) values ('Chaco');
   Insert into provincias (provincia) values ('Chubut');
   Insert into provincias (provincia) values ('Corrientes');
   Insert into provincias (provincia) values ('Cordoba');
   Insert into provincias (provincia) values ('Mendoza');
   
   Insert into localidades (localidad) values ('Bahia Blaca');
   Insert into localidades (localidad) values ('Castelli');
   Insert into localidades (localidad) values ('Tigre');
   Insert into localidades (localidad) values ('Vicente Lopez');
   
   Insert into Especialidades (especialidad) values ('Pediatría');
   Insert into Especialidades (especialidad) values ('Oftalmología');
   Insert into Especialidades (especialidad) values ('Ortopedia');
   Insert into Especialidades (especialidad) values ('Neumología');
   Insert into Especialidades (especialidad) values ('Nefrología');
   Insert into Especialidades (especialidad) values ('Hematología');
   Insert into Especialidades (especialidad) values ('Oncología Pediátrica');
   
   
   insert into tipousuarios(tipo) values ('Administrador');
   insert into tipousuarios(tipo) values ('Medico');
   
   

   Insert into Horarios (dia, horarioInicio, horarioFin)values ('Lunes', 7,15);
     Insert into Horarios (dia, horarioInicio, horarioFin)values ('Lunes', 15,24);
     Insert into Horarios (dia, horarioInicio, horarioFin)values ('Martes', 7,15);
     Insert into Horarios (dia, horarioInicio, horarioFin)values ('Martes', 15,24);
     Insert into Horarios (dia, horarioInicio, horarioFin)values ('Miercoles', 7,15);
     Insert into Horarios (dia, horarioInicio, horarioFin)values ('Miercoles', 15,24);
     Insert into Horarios (dia, horarioInicio, horarioFin)values ('Jueves', 7,15);
     Insert into Horarios (dia, horarioInicio, horarioFin)values ('Jueves', 15,24);
     Insert into Horarios (dia, horarioInicio, horarioFin)values ('Viernes', 7,15);
     Insert into Horarios (dia, horarioInicio, horarioFin)values ('Viernes', 15,24);
     
     
     
     
	Insert into usuarios (Nombre, Clave, idTipoUsuario) VALUES ('ADMIN', 'ADMIN', 1);
   